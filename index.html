<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Buscador de Equipos</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-image: url("Sala.jpg");
  background-size: cover;
  background-position: center;
  min-height: 100vh;
}

.overlay {
  background: rgba(0,0,0,0.45);
  min-height: 100vh;
  padding: 30px;
}

h1 {
  color: yellow;
  text-shadow: 1px 1px 3px black;
}

input {
  font-size: 1.4rem;
  padding: 14px 18px;
  width: 100%;
  max-width: 400px;
  border-radius: 6px;
  border: none;
  margin-bottom: 20px;
}

.resultados {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 15px;
}

.card {
  background: white;
  border-radius: 8px;
  padding: 15px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  transition: transform 0.15s ease;
}

.card:hover {
  transform: scale(1.03);
}

.card .equipo {
  font-weight: bold;
  font-size: 1.2rem;
  margin-bottom: 6px;
}

.card .desc {
  font-size: 0.95rem;
  color: #333;
}
</style>
</head>

<body>
<div class="overlay">

<h1>Buscar Equipo</h1>

<input type="text" id="busqueda" placeholder="Ej: RL, RN, VG...">

<div id="resultados" class="resultados"></div>

</div>

<script>
let datos = [];

fetch("380.csv")
  .then(res => res.text())
  .then(texto => {
    const lineas = texto.split("\n");
    const headers = lineas[0].split(";");

    datos = lineas.slice(1).map(l => {
      const c = l.split(";");
      return {
        equipo: c[0],
        descripcion: c[1]
      };
    });
  });

document.getElementById("busqueda").addEventListener("input", e => {
  const valor = e.target.value.toLowerCase();
  const contenedor = document.getElementById("resultados");
  contenedor.innerHTML = "";

  if (valor.length === 0) return;

  const filtrados = datos.filter(d =>
    d.equipo.toLowerCase().includes(valor.toLowerCase())
  );

  filtrados.forEach(d => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="equipo">${d.equipo}</div>
      <div class="desc">${d.descripcion}</div>
    `;

    card.onclick = () => {
      alert("Seleccionaste: " + d.equipo);
      // acá después abrís la segunda pantalla o detalle
    };

    contenedor.appendChild(card);
  });
});
</script>

</body>
</html>

